{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jos%C3%A9%20Luis%20CS/Documents/Modular/proyecto%202025B/Versiones/2.1/web/client/src/components/ui/DataTable.tsx"],"sourcesContent":["import { FC } from 'react';\r\n\r\ninterface Column {\r\n  key: string;\r\n  header: string;\r\n  width?: string;\r\n}\r\n\r\ninterface DataTableProps {\r\n  columns: Column[];\r\n  data: any[];\r\n  onEdit?: (id: string) => void;\r\n  onDelete?: (id: string) => void;\r\n  isLoading?: boolean;\r\n}\r\n\r\nexport const DataTable: FC<DataTableProps> = ({\r\n  columns,\r\n  data,\r\n  onEdit,\r\n  onDelete,\r\n  isLoading = false,\r\n}) => {\r\n  if (isLoading) return <div>Cargando...</div>;\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto bg-white rounded-lg shadow\">\r\n      <table className=\"min-w-full divide-y divide-gray-200\">\r\n        <thead className=\"bg-gray-50\">\r\n          <tr>\r\n            {columns.map((column) => (\r\n              <th\r\n                key={column.key}\r\n                scope=\"col\"\r\n                className={`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${column.width || ''}`}\r\n              >\r\n                {column.header}\r\n              </th>\r\n            ))}\r\n            {(onEdit || onDelete) && (\r\n              <th scope=\"col\" className=\"px-6 py-3 text-right\">\r\n                Acciones\r\n              </th>\r\n            )}\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"bg-white divide-y divide-gray-200\">\r\n          {data.map((item, index) => (\r\n            <tr key={index} className=\"hover:bg-gray-50\">\r\n              {columns.map((column) => (\r\n                <td\r\n                  key={`${index}-${column.key}`}\r\n                  className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\r\n                >\r\n                  {item[column.key]}\r\n                </td>\r\n              ))}\r\n              {(onEdit || onDelete) && (\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                  {onEdit && (\r\n                    <button\r\n                      onClick={() => onEdit(item._id || item.id)}\r\n                      className=\"mr-3 text-indigo-600 hover:text-indigo-900\"\r\n                    >\r\n                      Editar\r\n                    </button>\r\n                  )}\r\n                  {onDelete && (\r\n                    <button\r\n                      onClick={() => onDelete(item._id || item.id)}\r\n                      className=\"text-red-600 hover:text-red-900\"\r\n                    >\r\n                      Eliminar\r\n                    </button>\r\n                  )}\r\n                </td>\r\n              )}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":";;;;;AAgBO,MAAM,YAAgC;QAAC,EAC5C,OAAO,EACP,IAAI,EACJ,MAAM,EACN,QAAQ,EACR,YAAY,KAAK,EAClB;IACC,IAAI,WAAW,qBAAO,6LAAC;kBAAI;;;;;;IAE3B,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAM,WAAU;;8BACf,6LAAC;oBAAM,WAAU;8BACf,cAAA,6LAAC;;4BACE,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC;oCAEC,OAAM;oCACN,WAAW,AAAC,kFAAoG,OAAnB,OAAO,KAAK,IAAI;8CAE5G,OAAO,MAAM;mCAJT,OAAO,GAAG;;;;;4BAOlB,CAAC,UAAU,QAAQ,mBAClB,6LAAC;gCAAG,OAAM;gCAAM,WAAU;0CAAuB;;;;;;;;;;;;;;;;;8BAMvD,6LAAC;oBAAM,WAAU;8BACd,KAAK,GAAG,CAAC,CAAC,MAAM,sBACf,6LAAC;4BAAe,WAAU;;gCACvB,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC;wCAEC,WAAU;kDAET,IAAI,CAAC,OAAO,GAAG,CAAC;uCAHZ,AAAC,GAAW,OAAT,OAAM,KAAc,OAAX,OAAO,GAAG;;;;;gCAM9B,CAAC,UAAU,QAAQ,mBAClB,6LAAC;oCAAG,WAAU;;wCACX,wBACC,6LAAC;4CACC,SAAS,IAAM,OAAO,KAAK,GAAG,IAAI,KAAK,EAAE;4CACzC,WAAU;sDACX;;;;;;wCAIF,0BACC,6LAAC;4CACC,SAAS,IAAM,SAAS,KAAK,GAAG,IAAI,KAAK,EAAE;4CAC3C,WAAU;sDACX;;;;;;;;;;;;;2BAvBA;;;;;;;;;;;;;;;;;;;;;AAmCrB;KAnEa","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jos%C3%A9%20Luis%20CS/Documents/Modular/proyecto%202025B/Versiones/2.1/web/client/src/services/api.tsx"],"sourcesContent":["'use client';\n\nimport axios from 'axios';\n\n// Variable definida en .env.local\nconst baseURL = process.env.NEXT_PUBLIC_BACKEND_URL;\n\nif (!baseURL) {\n  throw new Error('La variable de entorno NEXT_PUBLIC_BACKEND_URL no está definida.');\n}\n\n// Crea una instancia de Axios con una configuración base\nconst api = axios.create({\n  baseURL: baseURL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true\n});\n\nexport default api;"],"names":[],"mappings":";;;AAKgB;AAHhB;AAFA;;AAIA,kCAAkC;AAClC,MAAM;AAEN;;AAIA,yDAAyD;AACzD,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,iBAAiB;AACnB;uCAEe","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jos%C3%A9%20Luis%20CS/Documents/Modular/proyecto%202025B/Versiones/2.1/web/client/src/services/userService.tsx"],"sourcesContent":["import api from '@/services/api';\n\n// Definimos los tipos de datos que esperamos para una mejor seguridad y autocompletado\nexport interface User {\n  _id: string;\n  name: string;\n  email: string;\n  // ... cualquier otro campo del usuario\n}\n\nexport interface NewUser {\n    name: string;\n    email: string;\n}\n\n/**\n * Obtiene la lista de todos los usuarios\n * @returns Un array de usuarios\n */\nexport const getAllUsers = async (): Promise<User[]> => {\n  try {\n    const response = await api.get<User[]>('/users');\n    return response.data;\n  } catch (error) {\n    console.error(\"Error al obtener los usuarios:\", error);\n    throw error;\n  }\n};\n\n/**\n * Obtiene un usuario por su ID\n * @param userId El ID del usuario\n * @returns El objeto del usuario\n */\nexport const getUserById = async (userId: string): Promise<User> => {\n  try {\n    const response = await api.get<User>(`/users/${userId}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error al obtener el usuario ${userId}:`, error);\n    throw error;\n  }\n};\n\n/**\n * Crea un nuevo usuario\n * @param newUser Los datos del nuevo usuario\n * @returns El objeto del usuario creado\n */\nexport const createUser = async (newUser: NewUser): Promise<User> => {\n  try {\n    const response = await api.post<User>('/users', newUser);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error al crear el usuario:\", error);\n    throw error;\n  }\n};\n\nexport const updateUser = async (userId: string, userData: Partial<User>): Promise<User> => {\n  try {\n    const response = await api.put<User>(`/users/${userId}`, userData);\n    return response.data;\n  } catch (error) {\n    console.error(`Error updating user ${userId}:`, error);\n    throw error;\n  }\n};\n\nexport const deleteUser = async (userId: string): Promise<void> => {\n  try {\n    await api.delete(`/users/${userId}`);\n  } catch (error) {\n    console.error(`Error deleting user ${userId}:`, error);\n    throw error;\n  }\n};"],"names":[],"mappings":";;;;;;;AAAA;;AAmBO,MAAM,cAAc;IACzB,IAAI;QACF,MAAM,WAAW,MAAM,0HAAA,CAAA,UAAG,CAAC,GAAG,CAAS;QACvC,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,MAAM;IACR;AACF;AAOO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,WAAW,MAAM,0HAAA,CAAA,UAAG,CAAC,GAAG,CAAO,AAAC,UAAgB,OAAP;QAC/C,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,AAAC,+BAAqC,OAAP,QAAO,MAAI;QACxD,MAAM;IACR;AACF;AAOO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,WAAW,MAAM,0HAAA,CAAA,UAAG,CAAC,IAAI,CAAO,UAAU;QAChD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO,QAAgB;IAC/C,IAAI;QACF,MAAM,WAAW,MAAM,0HAAA,CAAA,UAAG,CAAC,GAAG,CAAO,AAAC,UAAgB,OAAP,SAAU;QACzD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,AAAC,uBAA6B,OAAP,QAAO,MAAI;QAChD,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,0HAAA,CAAA,UAAG,CAAC,MAAM,CAAC,AAAC,UAAgB,OAAP;IAC7B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,AAAC,uBAA6B,OAAP,QAAO,MAAI;QAChD,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jos%C3%A9%20Luis%20CS/Documents/Modular/proyecto%202025B/Versiones/2.1/web/client/src/app/admin/usuarios/page.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { DataTable } from '@/components/ui/DataTable';\r\nimport { User, getAllUsers, deleteUser } from '@/services/userService';\r\n\r\nexport default function DashboardLayoutAdmin() {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Fetch users al cargar el componente\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const data = await getAllUsers();\r\n        setUsers(data);\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  // Handler para eliminar usuario\r\n  const handleDelete = async (userId: string) => {\r\n    if (confirm('¿Estás seguro de eliminar este usuario?')) {\r\n      await deleteUser(userId);\r\n      setUsers(users.filter((user) => user._id !== userId));\r\n    }\r\n  };\r\n\r\n  // Columnas de la tabla\r\n  const userColumns = [\r\n    { key: 'name', header: 'Nombre', width: 'w-1/4' },\r\n    { key: 'email', header: 'Email', width: 'w-1/4' },\r\n    { key: 'role', header: 'Rol', width: 'w-1/4' },\r\n    { \r\n      key: 'isActive', \r\n      header: 'Estado', \r\n      width: 'w-1/4',\r\n      render: (value: boolean) => (\r\n        <span className={`px-2 py-1 rounded-full text-xs ${\r\n          value ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\r\n        }`}>\r\n          {value ? 'Activo' : 'Inactivo'}\r\n        </span>\r\n      )\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex flex-row min-h-screen\">\r\n      {/* Contenido principal */}\r\n      <div className=\"flex-1 p-8 bg-gray-50\">\r\n        <div className=\"mb-6 flex justify-between items-center\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800\">Gestión de Usuarios</h1>\r\n          <button className=\"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700\">\r\n            + Nuevo Usuario\r\n          </button>\r\n        </div>\r\n\r\n        {/* DataTable */}\r\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n          <DataTable\r\n            columns={userColumns}\r\n            data={users}\r\n            onEdit={(id) => console.log('Editar:', id)} // Redirigir a /admin/users/edit/[id]\r\n            onDelete={handleDelete}\r\n            isLoading={isLoading}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,sCAAsC;IACtC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0CAAE;YACR,MAAM;6DAAa;oBACjB,IAAI;wBACF,MAAM,OAAO,MAAM,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;wBAC7B,SAAS;oBACX,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,yBAAyB;oBACzC,SAAU;wBACR,aAAa;oBACf;gBACF;;YACA;QACF;yCAAG,EAAE;IAEL,gCAAgC;IAChC,MAAM,eAAe,OAAO;QAC1B,IAAI,QAAQ,4CAA4C;YACtD,MAAM,CAAA,GAAA,kIAAA,CAAA,aAAU,AAAD,EAAE;YACjB,SAAS,MAAM,MAAM,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK;QAC/C;IACF;IAEA,uBAAuB;IACvB,MAAM,cAAc;QAClB;YAAE,KAAK;YAAQ,QAAQ;YAAU,OAAO;QAAQ;QAChD;YAAE,KAAK;YAAS,QAAQ;YAAS,OAAO;QAAQ;QAChD;YAAE,KAAK;YAAQ,QAAQ;YAAO,OAAO;QAAQ;QAC7C;YACE,KAAK;YACL,QAAQ;YACR,OAAO;YACP,QAAQ,CAAC,sBACP,6LAAC;oBAAK,WAAW,AAAC,kCAEjB,OADC,QAAQ,gCAAgC;8BAEvC,QAAQ,WAAW;;;;;;QAG1B;KACD;IAED,qBACE,6LAAC;QAAI,WAAU;kBAEb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,6LAAC;4BAAO,WAAU;sCAAoE;;;;;;;;;;;;8BAMxF,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,wIAAA,CAAA,YAAS;wBACR,SAAS;wBACT,MAAM;wBACN,QAAQ,CAAC,KAAO,QAAQ,GAAG,CAAC,WAAW;wBACvC,UAAU;wBACV,WAAW;;;;;;;;;;;;;;;;;;;;;;AAMvB;GAtEwB;KAAA","debugId":null}}]
}