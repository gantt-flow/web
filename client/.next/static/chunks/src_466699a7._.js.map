{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegosalinas/Documents/Proyecto%20Modular/web/client/src/services/api.tsx"],"sourcesContent":["'use client';\n\nimport axios from 'axios';\n\n// Variable definida en .env.local\nconst baseURL = process.env.NEXT_PUBLIC_BACKEND_URL;\n\nif (!baseURL) {\n  throw new Error('La variable de entorno NEXT_PUBLIC_BACKEND_URL no está definida.');\n}\n\n// Crea una instancia de Axios con una configuración base\nconst api = axios.create({\n  baseURL: baseURL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true\n});\n\nexport default api;"],"names":[],"mappings":";;;AAKgB;AAHhB;AAFA;;AAIA,kCAAkC;AAClC,MAAM;AAEN;;AAIA,yDAAyD;AACzD,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,iBAAiB;AACnB;uCAEe","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegosalinas/Documents/Proyecto%20Modular/web/client/src/services/authService.tsx"],"sourcesContent":["import api from '@/services/api';\n\n// Definimos una interfaz para las credenciales de inicio de sesión\nexport interface LoginCredentials {\n  email: string;\n  password: string;\n}\n\n/**\n * Realiza una petición de login al backend.\n * @param credentials El objeto con el email y la contraseña del usuario.\n * @returns Una promesa que resuelve con la respuesta del servidor.\n */\nexport const login = async (credentials: LoginCredentials) => {\n  // Aquí es donde ocurre la llamada a la API\n  const response = await api.post('/auth/login', credentials);\n  return response.data;\n};\n\nexport interface SignUpData {\n  email: string;\n  password: string;\n  name: string;\n  role: string;\n  // profilePicture: File | null;\n  projectId?: string;\n}\n\n/**\n * Realiza una petición de registro al backend.\n * @param data El objeto con los datos necesarios para el registro.\n */\nexport const signUp = async (signUpData: SignUpData) => {\n  const response = await api.post('auth/signUp', signUpData);\n  return response.data;\n}\n\n/**\n * Realiza el registro y, si es exitoso, inicia sesión automáticamente.\n * @param signUpData Los datos del nuevo usuario.\n */\nexport const registerAndLogin = async (signUpData: SignUpData) => {\n  // 1. Llama al servicio de registro\n  await signUp(signUpData);\n  \n  // 2. Si el registro es exitoso, usa las mismas credenciales para iniciar sesión automáticamente\n  const credentials = {\n    email: signUpData.email,\n    password: signUpData.password,\n  };\n  await login(credentials);\n};\n\nexport const logout = async () => {\n  await api.post('/auth/logout');\n};"],"names":[],"mappings":";;;;;;AAAA;;AAaO,MAAM,QAAQ,OAAO;IAC1B,2CAA2C;IAC3C,MAAM,WAAW,MAAM,0HAAA,CAAA,UAAG,CAAC,IAAI,CAAC,eAAe;IAC/C,OAAO,SAAS,IAAI;AACtB;AAeO,MAAM,SAAS,OAAO;IAC3B,MAAM,WAAW,MAAM,0HAAA,CAAA,UAAG,CAAC,IAAI,CAAC,eAAe;IAC/C,OAAO,SAAS,IAAI;AACtB;AAMO,MAAM,mBAAmB,OAAO;IACrC,mCAAmC;IACnC,MAAM,OAAO;IAEb,gGAAgG;IAChG,MAAM,cAAc;QAClB,OAAO,WAAW,KAAK;QACvB,UAAU,WAAW,QAAQ;IAC/B;IACA,MAAM,MAAM;AACd;AAEO,MAAM,SAAS;IACpB,MAAM,0HAAA,CAAA,UAAG,CAAC,IAAI,CAAC;AACjB","debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegosalinas/Documents/Proyecto%20Modular/web/client/src/app/auth/login/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from \"react\";\nimport { useRouter } from 'next/navigation';\nimport { login } from '@/services/authService';\nimport Image from \"next/image\";\n\n\nexport default function Login() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const router = useRouter();\n\n\n    const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault(); // Previene la recarga de la página\n    setError('');\n    console.log('1. El formulario fue enviado.');\n\n    try {\n        console.log('2. Intentando llamar al servicio de login...');\n        await login({ email, password });\n        \n        // Si llegamos aquí, el login en el backend fue exitoso.\n        console.log('3. Login exitoso. Redirigiendo a /inicio...');\n        router.push('/inicio');\n\n    } catch (err) {\n        // Si algo sale mal en la llamada a `login()`, se ejecutará esto.\n        console.error('4. Ocurrió un error:', err);\n        setError('Credenciales inválidas o error en el servidor.');\n    }\n};\n\n\n    return (\n        <div className=\"flex flex-row h-screen\">\n\n            <div className=\"flex flex-col basis-1/2\">\n                <div className=\"flex flex-col w-2/3 self-center mt-30\">\n                    <h1 className=\"text-[36px]\">Inicia sesión</h1>\n\n                    <form className=\"flex flex-col mt-6\" onSubmit={handleSubmit}>\n                        {error && <p className=\"text-red-500 mb-6\">{error}</p>}\n                        <label>Correo</label>\n                        <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} className=\"border border-gray-300 rounded-lg p-3 mb-4\" required />\n                        <label className=\"mt-4\">Contraseña</label>\n                        <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"border border-gray-300 rounded-lg p-3 mb-8\" required />\n                        <button type=\"submit\" className=\"bg-green-500 text-white p-2 h-12 rounded-lg hover:bg-green-600\">Iniciar Sesión</button>\n                    </form>\n                </div>\n                <p className=\"mt-8 text-center\"><a href=\"/auth/signUp\" className=\"hover:underline\">¿Olvidaste tu contraseña?</a></p>\n                <p className=\"mt-4 text-center\">¿No tienes cuenta? <a href=\"/auth/signUp\" className=\"hover:underline\">Regístrate aquí</a></p>\n            </div>\n\n            <div className=\"flex flex-col basis-1/2 bg-green-500\">\n                <div className=\"flex flex-col self-center mt-30\">\n                    <Image\n                        className=\"dark:invert\"\n                        src=\"/ganttFlowWhite.svg\"\n                        alt=\"Gantt Logo\"\n                        width={346}\n                        height={77}\n                        priority\n                    />\n                </div>\n                <p className=\"mt-30 text-center text-white text-[30px] w-2/3 self-center\">La solución que necesitas para tu proyecto</p>\n            </div>\n        </div>\n    )\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAQe,SAAS;;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAGvB,MAAM,eAAe,OAAO;QAC5B,EAAE,cAAc,IAAI,mCAAmC;QACvD,SAAS;QACT,QAAQ,GAAG,CAAC;QAEZ,IAAI;YACA,QAAQ,GAAG,CAAC;YACZ,MAAM,CAAA,GAAA,kIAAA,CAAA,QAAK,AAAD,EAAE;gBAAE;gBAAO;YAAS;YAE9B,wDAAwD;YACxD,QAAQ,GAAG,CAAC;YACZ,OAAO,IAAI,CAAC;QAEhB,EAAE,OAAO,KAAK;YACV,iEAAiE;YACjE,QAAQ,KAAK,CAAC,wBAAwB;YACtC,SAAS;QACb;IACJ;IAGI,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAAc;;;;;;0CAE5B,6LAAC;gCAAK,WAAU;gCAAqB,UAAU;;oCAC1C,uBAAS,6LAAC;wCAAE,WAAU;kDAAqB;;;;;;kDAC5C,6LAAC;kDAAM;;;;;;kDACP,6LAAC;wCAAM,MAAK;wCAAQ,OAAO;wCAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCAAG,WAAU;wCAA6C,QAAQ;;;;;;kDAC5I,6LAAC;wCAAM,WAAU;kDAAO;;;;;;kDACxB,6LAAC;wCAAM,MAAK;wCAAW,OAAO;wCAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAAG,WAAU;wCAA6C,QAAQ;;;;;;kDACrJ,6LAAC;wCAAO,MAAK;wCAAS,WAAU;kDAAiE;;;;;;;;;;;;;;;;;;kCAGzG,6LAAC;wBAAE,WAAU;kCAAmB,cAAA,6LAAC;4BAAE,MAAK;4BAAe,WAAU;sCAAkB;;;;;;;;;;;kCACnF,6LAAC;wBAAE,WAAU;;4BAAmB;0CAAmB,6LAAC;gCAAE,MAAK;gCAAe,WAAU;0CAAkB;;;;;;;;;;;;;;;;;;0BAG1G,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,gIAAA,CAAA,UAAK;4BACF,WAAU;4BACV,KAAI;4BACJ,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,QAAQ;;;;;;;;;;;kCAGhB,6LAAC;wBAAE,WAAU;kCAA6D;;;;;;;;;;;;;;;;;;AAI1F;GA/DwB;;QAIL,qIAAA,CAAA,YAAS;;;KAJJ","debugId":null}}]
}