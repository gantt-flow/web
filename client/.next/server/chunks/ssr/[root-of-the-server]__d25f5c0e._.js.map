{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jos%C3%A9%20Luis%20CS/Documents/Modular/proyecto%202025B/Versiones/2.1/web/client/src/components/ui/DataTable.tsx"],"sourcesContent":["import { FC } from 'react';\r\n\r\ninterface Column {\r\n  key: string;\r\n  header: string;\r\n  width?: string;\r\n}\r\n\r\ninterface DataTableProps {\r\n  columns: Column[];\r\n  data: any[];\r\n  onEdit?: (id: string) => void;\r\n  onDelete?: (id: string) => void;\r\n  isLoading?: boolean;\r\n}\r\n\r\nexport const DataTable: FC<DataTableProps> = ({\r\n  columns,\r\n  data,\r\n  onEdit,\r\n  onDelete,\r\n  isLoading = false,\r\n}) => {\r\n  if (isLoading) return <div>Cargando...</div>;\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto bg-white rounded-lg shadow\">\r\n      <table className=\"min-w-full divide-y divide-gray-200\">\r\n        <thead className=\"bg-gray-50\">\r\n          <tr>\r\n            {columns.map((column) => (\r\n              <th\r\n                key={column.key}\r\n                scope=\"col\"\r\n                className={`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${column.width || ''}`}\r\n              >\r\n                {column.header}\r\n              </th>\r\n            ))}\r\n            {(onEdit || onDelete) && (\r\n              <th scope=\"col\" className=\"px-6 py-3 text-right\">\r\n                Acciones\r\n              </th>\r\n            )}\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"bg-white divide-y divide-gray-200\">\r\n          {data.map((item, index) => (\r\n            <tr key={index} className=\"hover:bg-gray-50\">\r\n              {columns.map((column) => (\r\n                <td\r\n                  key={`${index}-${column.key}`}\r\n                  className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\r\n                >\r\n                  {item[column.key]}\r\n                </td>\r\n              ))}\r\n              {(onEdit || onDelete) && (\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                  {onEdit && (\r\n                    <button\r\n                      onClick={() => onEdit(item._id || item.id)}\r\n                      className=\"mr-3 text-indigo-600 hover:text-indigo-900\"\r\n                    >\r\n                      Editar\r\n                    </button>\r\n                  )}\r\n                  {onDelete && (\r\n                    <button\r\n                      onClick={() => onDelete(item._id || item.id)}\r\n                      className=\"text-red-600 hover:text-red-900\"\r\n                    >\r\n                      Eliminar\r\n                    </button>\r\n                  )}\r\n                </td>\r\n              )}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":";;;;;AAgBO,MAAM,YAAgC,CAAC,EAC5C,OAAO,EACP,IAAI,EACJ,MAAM,EACN,QAAQ,EACR,YAAY,KAAK,EAClB;IACC,IAAI,WAAW,qBAAO,8OAAC;kBAAI;;;;;;IAE3B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAM,WAAU;;8BACf,8OAAC;oBAAM,WAAU;8BACf,cAAA,8OAAC;;4BACE,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;oCAEC,OAAM;oCACN,WAAW,CAAC,+EAA+E,EAAE,OAAO,KAAK,IAAI,IAAI;8CAEhH,OAAO,MAAM;mCAJT,OAAO,GAAG;;;;;4BAOlB,CAAC,UAAU,QAAQ,mBAClB,8OAAC;gCAAG,OAAM;gCAAM,WAAU;0CAAuB;;;;;;;;;;;;;;;;;8BAMvD,8OAAC;oBAAM,WAAU;8BACd,KAAK,GAAG,CAAC,CAAC,MAAM,sBACf,8OAAC;4BAAe,WAAU;;gCACvB,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;wCAEC,WAAU;kDAET,IAAI,CAAC,OAAO,GAAG,CAAC;uCAHZ,GAAG,MAAM,CAAC,EAAE,OAAO,GAAG,EAAE;;;;;gCAMhC,CAAC,UAAU,QAAQ,mBAClB,8OAAC;oCAAG,WAAU;;wCACX,wBACC,8OAAC;4CACC,SAAS,IAAM,OAAO,KAAK,GAAG,IAAI,KAAK,EAAE;4CACzC,WAAU;sDACX;;;;;;wCAIF,0BACC,8OAAC;4CACC,SAAS,IAAM,SAAS,KAAK,GAAG,IAAI,KAAK,EAAE;4CAC3C,WAAU;sDACX;;;;;;;;;;;;;2BAvBA;;;;;;;;;;;;;;;;;;;;;AAmCrB","debugId":null}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jos%C3%A9%20Luis%20CS/Documents/Modular/proyecto%202025B/Versiones/2.1/web/client/src/services/api.tsx"],"sourcesContent":["'use client';\n\nimport axios from 'axios';\n\n// Variable definida en .env.local\nconst baseURL = process.env.NEXT_PUBLIC_BACKEND_URL;\n\nif (!baseURL) {\n  throw new Error('La variable de entorno NEXT_PUBLIC_BACKEND_URL no está definida.');\n}\n\n// Crea una instancia de Axios con una configuración base\nconst api = axios.create({\n  baseURL: baseURL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true\n});\n\nexport default api;"],"names":[],"mappings":";;;AAEA;AAFA;;AAIA,kCAAkC;AAClC,MAAM;AAEN;;AAIA,yDAAyD;AACzD,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,iBAAiB;AACnB;uCAEe","debugId":null}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jos%C3%A9%20Luis%20CS/Documents/Modular/proyecto%202025B/Versiones/2.1/web/client/src/services/userService.tsx"],"sourcesContent":["import api from '@/services/api';\n\n// Definimos los tipos de datos que esperamos para una mejor seguridad y autocompletado\nexport interface User {\n  _id: string;\n  name: string;\n  email: string;\n  // ... cualquier otro campo del usuario\n}\n\nexport interface NewUser {\n    name: string;\n    email: string;\n}\n\n/**\n * Obtiene la lista de todos los usuarios\n * @returns Un array de usuarios\n */\nexport const getUsers = async (): Promise<User[]> => {\n  try {\n    const response = await api.get<User[]>('/users');\n    return response.data;\n  } catch (error) {\n    console.error(\"Error al obtener los usuarios:\", error);\n    throw error;\n  }\n};\n\n/**\n * Obtiene un usuario por su ID\n * @param userId El ID del usuario\n * @returns El objeto del usuario\n */\nexport const getUserById = async (userId: string): Promise<User> => {\n  try {\n    const response = await api.get<User>(`/users/${userId}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error al obtener el usuario ${userId}:`, error);\n    throw error;\n  }\n};\n\n/**\n * Crea un nuevo usuario\n * @param newUser Los datos del nuevo usuario\n * @returns El objeto del usuario creado\n */\nexport const createUser = async (newUser: NewUser): Promise<User> => {\n  try {\n    const response = await api.post<User>('/users', newUser);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error al crear el usuario:\", error);\n    throw error;\n  }\n};\n\nexport const updateUser = async (userId: string, userData: Partial<User>): Promise<User> => {\n  try {\n    const response = await api.put<User>(`/users/${userId}`, userData);\n    return response.data;\n  } catch (error) {\n    console.error(`Error updating user ${userId}:`, error);\n    throw error;\n  }\n};\n\nexport const deleteUser = async (userId: string): Promise<void> => {\n  try {\n    await api.delete(`/users/${userId}`);\n  } catch (error) {\n    console.error(`Error deleting user ${userId}:`, error);\n    throw error;\n  }\n};"],"names":[],"mappings":";;;;;;;AAAA;;AAmBO,MAAM,WAAW;IACtB,IAAI;QACF,MAAM,WAAW,MAAM,uHAAA,CAAA,UAAG,CAAC,GAAG,CAAS;QACvC,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,MAAM;IACR;AACF;AAOO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,WAAW,MAAM,uHAAA,CAAA,UAAG,CAAC,GAAG,CAAO,CAAC,OAAO,EAAE,QAAQ;QACvD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,4BAA4B,EAAE,OAAO,CAAC,CAAC,EAAE;QACxD,MAAM;IACR;AACF;AAOO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,WAAW,MAAM,uHAAA,CAAA,UAAG,CAAC,IAAI,CAAO,UAAU;QAChD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO,QAAgB;IAC/C,IAAI;QACF,MAAM,WAAW,MAAM,uHAAA,CAAA,UAAG,CAAC,GAAG,CAAO,CAAC,OAAO,EAAE,QAAQ,EAAE;QACzD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAAC,EAAE;QAChD,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,uHAAA,CAAA,UAAG,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,QAAQ;IACrC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAAC,EAAE;QAChD,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jos%C3%A9%20Luis%20CS/Documents/Modular/proyecto%202025B/Versiones/2.1/web/client/src/components/admin/sidebar.tsx"],"sourcesContent":["import { Users, ClipboardList, Shield, LogOut, Settings} from \"lucide-react\";\nimport Link from \"next/link\";\n\nconst adminSideBarItems = [\n    { icon: <Users size={20} />, label: 'Usuarios', link: \"/admin/usuarios\" },\n    { icon: <ClipboardList size={20} />, label: 'Auditoría', link: \"/admin/auditoria\" },\n    { icon: <Shield size={20} />, label: 'Permisos', link: \"/admin/permisos\" },\n    { icon: <Settings size={20} />, label: 'Configuración', link: \"/ajustes\" }\n];\n\nexport default function AdminSidebar() {\n    return (\n        <aside className=\"h-full w-64 bg-gray-800 text-white\">\n            <div className=\"p-5 border-b border-gray-700\">\n                <h1 className=\"text-xl font-bold\">Panel Administrador</h1>\n            </div>\n            \n            <nav className=\"h-full flex flex-col justify-between\" role=\"navigation\" aria-label=\"Admin Sidebar\">\n                <ul className=\"flex flex-col py-4\">\n                    {adminSideBarItems.map(({ icon, label, link}, index) => (\n                    <li key={label}>\n                        <Link href={link}>\n                            <div className=\"flex items-center py-3 px-5 hover:bg-gray-700 transition-all cursor-pointer\">\n                                <span className=\"flex items-center text-gray-300\">\n                                    {icon}\n                                </span>   \n                                <span className=\"px-3 font-medium\">{label}</span>\n                            </div>\n                        </Link>\n                    </li>\n                    ))}\n                </ul>\n                \n                <div className=\"border-t border-gray-700\">\n                    <Link href=\"/logout\">\n                        <div className=\"flex items-center py-4 px-5 hover:bg-gray-700 cursor-pointer\">\n                            <LogOut size={20} className=\"text-red-400\" />\n                            <span className=\"px-3 text-red-400 font-medium\">Salir</span>\n                        </div>\n                    </Link>\n                </div>\n            </nav>\n        </aside>\n    )\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AAEA,MAAM,oBAAoB;IACtB;QAAE,oBAAM,8OAAC,oMAAA,CAAA,QAAK;YAAC,MAAM;;;;;;QAAQ,OAAO;QAAY,MAAM;IAAkB;IACxE;QAAE,oBAAM,8OAAC,wNAAA,CAAA,gBAAa;YAAC,MAAM;;;;;;QAAQ,OAAO;QAAa,MAAM;IAAmB;IAClF;QAAE,oBAAM,8OAAC,sMAAA,CAAA,SAAM;YAAC,MAAM;;;;;;QAAQ,OAAO;QAAY,MAAM;IAAkB;IACzE;QAAE,oBAAM,8OAAC,0MAAA,CAAA,WAAQ;YAAC,MAAM;;;;;;QAAQ,OAAO;QAAiB,MAAM;IAAW;CAC5E;AAEc,SAAS;IACpB,qBACI,8OAAC;QAAM,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAG,WAAU;8BAAoB;;;;;;;;;;;0BAGtC,8OAAC;gBAAI,WAAU;gBAAuC,MAAK;gBAAa,cAAW;;kCAC/E,8OAAC;wBAAG,WAAU;kCACT,kBAAkB,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAC,EAAE,sBAC9C,8OAAC;0CACG,cAAA,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAM;8CACR,cAAA,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAK,WAAU;0DACX;;;;;;0DAEL,8OAAC;gDAAK,WAAU;0DAAoB;;;;;;;;;;;;;;;;;+BANvC;;;;;;;;;;kCAab,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCACP,cAAA,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,0MAAA,CAAA,SAAM;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDAC5B,8OAAC;wCAAK,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO5E","debugId":null}},
    {"offset": {"line": 491, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jos%C3%A9%20Luis%20CS/Documents/Modular/proyecto%202025B/Versiones/2.1/web/client/src/app/admin/usuarios/page.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { DataTable } from '@/components/ui/DataTable';\r\nimport { User, getUsers, deleteUser } from '@/services/userService';\r\nimport Sidebar from '@/components/admin/sidebar'; // Asumo que tienes un componente Sidebar\r\n\r\nexport default function DashboardLayoutAdmin() {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Fetch users al cargar el componente\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const data = await getUsers();\r\n        setUsers(data);\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  // Handler para eliminar usuario\r\n  const handleDelete = async (userId: string) => {\r\n    if (confirm('¿Estás seguro de eliminar este usuario?')) {\r\n      await deleteUser(userId);\r\n      setUsers(users.filter((user) => user._id !== userId));\r\n    }\r\n  };\r\n\r\n  // Columnas de la tabla\r\n  const userColumns = [\r\n    { key: 'name', header: 'Nombre', width: 'w-1/4' },\r\n    { key: 'email', header: 'Email', width: 'w-1/4' },\r\n    { key: 'role', header: 'Rol', width: 'w-1/4' },\r\n    { \r\n      key: 'isActive', \r\n      header: 'Estado', \r\n      width: 'w-1/4',\r\n      render: (value: boolean) => (\r\n        <span className={`px-2 py-1 rounded-full text-xs ${\r\n          value ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\r\n        }`}>\r\n          {value ? 'Activo' : 'Inactivo'}\r\n        </span>\r\n      )\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex flex-row min-h-screen\">\r\n      {/* Sidebar */}\r\n      <Sidebar />\r\n\r\n      {/* Contenido principal */}\r\n      <div className=\"flex-1 p-8 bg-gray-50\">\r\n        <div className=\"mb-6 flex justify-between items-center\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800\">Gestión de Usuarios</h1>\r\n          <button className=\"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700\">\r\n            + Nuevo Usuario\r\n          </button>\r\n        </div>\r\n\r\n        {/* DataTable */}\r\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n          <DataTable\r\n            columns={userColumns}\r\n            data={users}\r\n            onEdit={(id) => console.log('Editar:', id)} // Redirigir a /admin/users/edit/[id]\r\n            onDelete={handleDelete}\r\n            isLoading={isLoading}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA,2OAAkD,yCAAyC;AAJ3F;;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,sCAAsC;IACtC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa;YACjB,IAAI;gBACF,MAAM,OAAO,MAAM,CAAA,GAAA,+HAAA,CAAA,WAAQ,AAAD;gBAC1B,SAAS;YACX,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yBAAyB;YACzC,SAAU;gBACR,aAAa;YACf;QACF;QACA;IACF,GAAG,EAAE;IAEL,gCAAgC;IAChC,MAAM,eAAe,OAAO;QAC1B,IAAI,QAAQ,4CAA4C;YACtD,MAAM,CAAA,GAAA,+HAAA,CAAA,aAAU,AAAD,EAAE;YACjB,SAAS,MAAM,MAAM,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK;QAC/C;IACF;IAEA,uBAAuB;IACvB,MAAM,cAAc;QAClB;YAAE,KAAK;YAAQ,QAAQ;YAAU,OAAO;QAAQ;QAChD;YAAE,KAAK;YAAS,QAAQ;YAAS,OAAO;QAAQ;QAChD;YAAE,KAAK;YAAQ,QAAQ;YAAO,OAAO;QAAQ;QAC7C;YACE,KAAK;YACL,QAAQ;YACR,OAAO;YACP,QAAQ,CAAC,sBACP,8OAAC;oBAAK,WAAW,CAAC,+BAA+B,EAC/C,QAAQ,gCAAgC,2BACxC;8BACC,QAAQ,WAAW;;;;;;QAG1B;KACD;IAED,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,sIAAA,CAAA,UAAO;;;;;0BAGR,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAO,WAAU;0CAAoE;;;;;;;;;;;;kCAMxF,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,qIAAA,CAAA,YAAS;4BACR,SAAS;4BACT,MAAM;4BACN,QAAQ,CAAC,KAAO,QAAQ,GAAG,CAAC,WAAW;4BACvC,UAAU;4BACV,WAAW;;;;;;;;;;;;;;;;;;;;;;;AAMvB","debugId":null}}]
}